{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { urls } from \"../constants\";\nimport { USER_LOGIN } from \"../Store/Reducers/UserReducer\";\nimport store from \"./../Store/index\";\nexport function login(loginData) {\n  var requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': \"application/json\"\n    },\n    body: JSON.stringify(loginData),\n    redirect: 'follow'\n  };\n  fetch(urls.userUrl + \"/login\", requestOptions).then(function (response) {\n    return response.json();\n  }).then(function (result) {\n    store.dispatch({\n      type: USER_LOGIN,\n      payload: _objectSpread(_objectSpread({}, result), {}, {\n        username: loginData.username\n      })\n    });\n    console.log(store.getState());\n  }).catch(function (error) {\n    return console.log('error', error);\n  });\n}","map":{"version":3,"sources":["C:/Users/Kacper Walasek/Desktop/projekty/MobileApp/MobileApp/Mobile/API/UserApi.js"],"names":["urls","USER_LOGIN","store","login","loginData","requestOptions","method","headers","body","JSON","stringify","redirect","fetch","userUrl","then","response","json","result","dispatch","type","payload","username","console","log","getState","catch","error"],"mappings":";;;;;;AAAA,SAAQA,IAAR;AACA,SAASC,UAAT;AACA,OAAOC,KAAP;AACA,OAAO,SAASC,KAAT,CAAeC,SAAf,EAAyB;AAC5B,MAAMC,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAFU;AAKnBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,SAAf,CALa;AAMnBO,IAAAA,QAAQ,EAAE;AANS,GAAvB;AASAC,EAAAA,KAAK,CAAIZ,IAAI,CAACa,OAAT,aAA0BR,cAA1B,CAAL,CACCS,IADD,CACM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADd,EAECF,IAFD,CAEM,UAAAG,MAAM,EAAI;AACZf,IAAAA,KAAK,CAACgB,QAAN,CAAe;AAAEC,MAAAA,IAAI,EAAElB,UAAR;AAAoBmB,MAAAA,OAAO,kCAAMH,MAAN;AAAcI,QAAAA,QAAQ,EAAEjB,SAAS,CAACiB;AAAlC;AAA3B,KAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYrB,KAAK,CAACsB,QAAN,EAAZ;AACH,GALD,EAMCC,KAND,CAMO,UAAAC,KAAK;AAAA,WAAIJ,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB,CAAJ;AAAA,GANZ;AAQH","sourcesContent":["import {urls} from '../constants';\r\nimport { USER_LOGIN } from '../Store/Reducers/UserReducer';\r\nimport store from './../Store/index'\r\nexport function login(loginData){\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': \"application/json\"\r\n        },\r\n        body: JSON.stringify(loginData),\r\n        redirect: 'follow'\r\n    };\r\n\r\n    fetch(`${urls.userUrl}/login`, requestOptions)\r\n    .then(response => response.json())\r\n    .then(result => {\r\n        store.dispatch({ type: USER_LOGIN, payload: {...result, username: loginData.username} })\r\n        console.log(store.getState())\r\n    })\r\n    .catch(error => console.log('error', error));\r\n\r\n}"]},"metadata":{},"sourceType":"module"}